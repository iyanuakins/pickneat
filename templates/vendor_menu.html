{%extends "layout2.html" %}

{% block title %}
   My Menus
{%endblock%}

{% block main %}
<div class="container">
  <div style="margin-bottom: 10px;">
    <button type="button" class="btn btn-info btn-block" onclick="add_menu()">Add New Menu</button>
  </div>
  {%if not menus %}
    <div class="card-group">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">No Preview</h5>
          <p class="card-text">Upload menu to manage.</p>
        </div>
      </div>
    </div>
    {% endif %}

    {% for menu in menus %}
        <div class="card" style="width: 18rem" onclick="edit_menu({{menu['id']}})">
            <img src={{menu["image"]}} class="card-img-top" alt="Preview Unavailiable">
            <div class="card-body">
              <h5 class="card-title">{{menu["name"]}}</h5>
              <p class="card-text">{{menu["description"]}}.</p>
            </div>
        </div>
    {% endfor %}
</div>
<script>
  const edit_menu = id => $.get('/manage_menu/'+id)
  const add_menu = () => $.get('/manage_menu/1')
</script>
{% endblock %}
